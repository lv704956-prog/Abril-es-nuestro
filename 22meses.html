<script>

let page = 0;
let music = document.getElementById("music");
let currentSong = "";

/* Canciones */
const defaultSong = "nuestra_cancion.mp3";
const newYorkSong = "newyork.mp3";

const pages = [
{
title:"22 razones por las que te sigo prefiriendo üß°",
text:"22 meses despu√©s‚Ä¶ y todav√≠a eres t√∫.",
img:"foto_portada.jpeg"
},

{title:"Raz√≥n 1", text:"Porque contigo me siento en casa, incluso cuando no estamos en ning√∫n lugar especial."},
{title:"Raz√≥n 2", text:"Porque tu abrazo me reinicia el mundo."},
{title:"Raz√≥n 3", text:"Porque haces que los d√≠as simples se sientan importantes."},
{title:"Raz√≥n 4", text:"Porque contigo el silencio no incomoda, acompa√±a."},
{title:"Raz√≥n 5", text:"Porque me miras como si yo fuera suficiente."},
{title:"Raz√≥n 6", text:"Porque aprend√≠ que el amor puede ser tranquilo‚Ä¶ y aun as√≠ intenso."},
{title:"Raz√≥n 7", text:"Porque cuando sonr√≠es, todo lo dem√°s pierde importancia."},
{title:"Raz√≥n 8", text:"Porque me eliges incluso en mis d√≠as dif√≠ciles."},
{title:"Raz√≥n 9", text:"Porque haces equipo conmigo, no competencia."},
{title:"Raz√≥n 10", text:"Porque me haces sentir cuidada sin que me quite libertad."},

{
title:"Raz√≥n 11",
text:"Porque contigo entend√≠ que el amor no es presi√≥n, es paz.",
img:"foto_mitad.jpeg"
},

{title:"Raz√≥n 12", text:"Porque tus manos siempre encuentran las m√≠as."},
{title:"Raz√≥n 13", text:"Porque cuando planeamos cosas, siempre me incluyes en tu futuro."},
{title:"Raz√≥n 14", text:"Porque contigo los miedos se sienten m√°s peque√±os."},
{title:"Raz√≥n 15", text:"Porque respetas mis procesos y celebras mis logros."},
{title:"Raz√≥n 16", text:"Porque me haces re√≠r cuando m√°s lo necesito."},
{title:"Raz√≥n 17", text:"Porque me escuchas de verdad."},
{title:"Raz√≥n 18", text:"Porque no tengo que fingir nada cuando estoy contigo."},
{title:"Raz√≥n 19", text:"Porque me haces sentir prioridad sin necesidad de decirlo."},
{title:"Raz√≥n 20", text:"Porque contigo aprend√≠ que el amor se construye todos los d√≠as."},
{title:"Raz√≥n 21", text:"Porque incluso despu√©s de 22 meses‚Ä¶ todav√≠a me emocionas."},

{
title:"Raz√≥n 22",
text:"Porque si volviera a empezar, te volver√≠a a elegir. üß°",
img:"foto_final.jpeg"
},

{
title:"Mientras est√©s en New York üóΩ",
text:`S√© que es solo una semana‚Ä¶ pero igual ya te voy a estar extra√±ando desde el primer d√≠a.

Voy a extra√±ar tus abrazos, tus mensajes inesperados, tu voz cont√°ndome cualquier cosa.

Prometo contarte todo lo que pase aqu√≠.
Prometo esperarte.
Prometo que aunque est√©s a kil√≥metros, hay alguien aqu√≠ que te piensa todos los d√≠as.

Disfruta todo, vive todo‚Ä¶
pero acu√©rdate que aqu√≠ tienes a alguien que cuenta las horas para volver a abrazarte.

Y s√≠‚Ä¶ a New York te vas sin m√≠ üò≠üß°`,
waiting:true
}
];

function updateMusic(){

let shouldBe = (page === pages.length - 1) ? newYorkSong : defaultSong;

/* Solo cambia si es diferente */
if(currentSong !== shouldBe){
    music.src = shouldBe;
    music.play().catch(()=>{});
    currentSong = shouldBe;
}

}

function showPage(){

let book = document.querySelector(".book");
let contentHTML = "";

/* Imagen */
if(pages[page].img){
    book.style.justifyContent = "flex-start";
    contentHTML += "<img src='"+pages[page].img+"'>";
} else {
    book.style.justifyContent = "center";
}

/* Mu√±equito ansioso */
if(pages[page].waiting){
    contentHTML += `<div class="waiting">üßç‚Äç‚ôÇÔ∏è</div>`;
}

contentHTML += "<h2>"+pages[page].title+"</h2><p>"+pages[page].text+"</p>";

document.getElementById("content").innerHTML = contentHTML;

updateMusic();
}

function nextPage(){
if(page < pages.length-1){
page++;
showPage();
}
}

function prevPage(){
if(page > 0){
page--;
showPage();
}
}

window.onload = function(){
music.src = defaultSong;
music.play().catch(()=>{});
currentSong = defaultSong;
showPage();
};

</script>
